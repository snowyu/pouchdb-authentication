!function(t){if("object"==typeof exports&&"undefined"!=typeof module)module.exports=t();else if("function"==typeof define&&define.amd)define([],t);else{("undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:this).PouchAuthentication=t()}}(function(){return function i(s,u,a){function f(e,t){if(!u[e]){if(!s[e]){var r="function"==typeof require&&require;if(!t&&r)return r(e,!0);if(c)return c(e,!0);var n=new Error("Cannot find module '"+e+"'");throw n.code="MODULE_NOT_FOUND",n}var o=u[e]={exports:{}};s[e][0].call(o.exports,function(t){return f(s[e][1][t]||t)},o,o.exports,i,s,u,a)}return u[e].exports}for(var c="function"==typeof require&&require,t=0;t<a.length;t++)f(a[t]);return f}({1:[function(Ke,Je,t){(function(u){"use strict";function t(t){return t&&"object"==typeof t&&"default"in t?t.default:t}var r=t(Ke(36)),i=t(Ke(37)),e=t(Ke(30)),o=Ke(32),n=t(Ke(2));function s(t,e){return t(e={exports:{}},e.exports),e.exports}var y=s(function(t){var e=t.exports="undefined"!=typeof window&&window.Math==Math?window:"undefined"!=typeof self&&self.Math==Math?self:Function("return this")();"number"==typeof __g&&(__g=e)}),a=function(t){if("function"!=typeof t)throw TypeError(t+" is not a function!");return t},g=function(n,o,t){if(a(n),void 0===o)return n;switch(t){case 1:return function(t){return n.call(o,t)};case 2:return function(t,e){return n.call(o,t,e)};case 3:return function(t,e,r){return n.call(o,t,e,r)}}return function(){return n.apply(o,arguments)}},f={}.toString,c=function(t){return f.call(t).slice(8,-1)},v=s(function(t){var e=t.exports={version:"2.5.7"};"number"==typeof __e&&(__e=e)}),h=(v.version,s(function(t){var e="__core-js_shared__",r=y[e]||(y[e]={});(t.exports=function(t,e){return r[t]||(r[t]=void 0!==e?e:{})})("versions",[]).push({version:v.version,mode:"global",copyright:"Â© 2018 Denis Pushkarev (zloirock.ru)"})})),p=0,l=Math.random(),d=function(t){return"Symbol(".concat(void 0===t?"":t,")_",(++p+l).toString(36))},m=s(function(t){var e=h("wks"),r=y.Symbol,n="function"==typeof r;(t.exports=function(t){return e[t]||(e[t]=n&&r[t]||(n?r:d)("Symbol."+t))}).store=e}),w=m("toStringTag"),b="Arguments"==c(function(){return arguments}()),E=function(t){var e,r,n;return void 0===t?"Undefined":null===t?"Null":"string"==typeof(r=function(t,e){try{return t[e]}catch(t){}}(e=Object(t),w))?r:b?c(e):"Object"==(n=c(e))&&"function"==typeof e.callee?"Arguments":n},x=function(t){return"object"==typeof t?null!==t:"function"==typeof t},_=function(t){if(!x(t))throw TypeError(t+" is not an object!");return t},j=function(t){try{return!!t()}catch(t){return!0}},B=!j(function(){return 7!=Object.defineProperty({},"a",{get:function(){return 7}}).a}),A=y.document,S=x(A)&&x(A.createElement),T=function(t){return S?A.createElement(t):{}},O=!B&&!j(function(){return 7!=Object.defineProperty(T("div"),"a",{get:function(){return 7}}).a}),U=Object.defineProperty,C={f:B?Object.defineProperty:function(t,e,r){if(_(t),e=function(t,e){if(!x(t))return t;var r,n;if(e&&"function"==typeof(r=t.toString)&&!x(n=r.call(t)))return n;if("function"==typeof(r=t.valueOf)&&!x(n=r.call(t)))return n;if(!e&&"function"==typeof(r=t.toString)&&!x(n=r.call(t)))return n;throw TypeError("Can't convert object to primitive value")}(e,!0),_(r),O)try{return U(t,e,r)}catch(t){}if("get"in r||"set"in r)throw TypeError("Accessors not supported!");return"value"in r&&(t[e]=r.value),t}},P=B?function(t,e,r){return C.f(t,e,{enumerable:!((n=1)&n),configurable:!(2&n),writable:!(4&n),value:r});var n}:function(t,e,r){return t[e]=r,t},R={}.hasOwnProperty,L=function(t,e){return R.call(t,e)},I=s(function(t){var i=d("src"),e="toString",r=Function[e],s=(""+r).split(e);v.inspectSource=function(t){return r.call(t)},(t.exports=function(t,e,r,n){var o="function"==typeof r;o&&(L(r,"name")||P(r,"name",e)),t[e]!==r&&(o&&(L(r,i)||P(r,i,t[e]?""+t[e]:s.join(String(e)))),t===y?t[e]=r:n?t[e]?t[e]=r:P(t,e,r):(delete t[e],P(t,e,r)))})(Function.prototype,e,function(){return"function"==typeof this&&this[i]||r.call(this)})}),k="prototype",M=function(t,e,r){var n,o,i,s,u=t&M.F,a=t&M.G,f=t&M.S,c=t&M.P,h=t&M.B,p=a?y:f?y[e]||(y[e]={}):(y[e]||{})[k],l=a?v:v[e]||(v[e]={}),d=l[k]||(l[k]={});for(n in a&&(r=e),r)i=((o=!u&&p&&void 0!==p[n])?p:r)[n],s=h&&o?g(i,y):c&&"function"==typeof i?g(Function.call,i):i,p&&I(p,n,i,t&M.U),l[n]!=i&&P(l,n,s),c&&d[n]!=i&&(d[n]=i)};y.core=v,M.F=1,M.G=2,M.S=4,M.P=8,M.B=16,M.W=32,M.U=64,M.R=128;var N,D,q,F=M,z=function(e,t,r,n){try{return n?t(_(r)[0],r[1]):t(r)}catch(t){var o=e.return;throw void 0!==o&&_(o.call(e)),t}},Y={},$=m("iterator"),H=Array.prototype,X=Math.ceil,G=Math.floor,V=function(t){return isNaN(t=+t)?0:(0<t?G:X)(t)},W=Math.min,K=function(t){return 0<t?W(V(t),9007199254740991):0},J=m("iterator"),Z=v.getIteratorMethod=function(t){if(null!=t)return t[J]||t["@@iterator"]||Y[E(t)]},Q=s(function(t){var l={},d={},e=t.exports=function(t,e,r,n,o){var i,s,u,a,f,c=o?function(){return t}:Z(t),h=g(r,n,e?2:1),p=0;if("function"!=typeof c)throw TypeError(t+" is not iterable!");if(void 0===(f=c)||Y.Array!==f&&H[$]!==f){for(u=c.call(t);!(s=u.next()).done;)if((a=z(u,h,s.value,e))===l||a===d)return a}else for(i=K(t.length);p<i;p++)if((a=e?h(_(s=t[p])[0],s[1]):h(t[p]))===l||a===d)return a};e.BREAK=l,e.RETURN=d}),tt=m("species"),et=y.document,rt=et&&et.documentElement,nt=y.process,ot=y.setImmediate,it=y.clearImmediate,st=y.MessageChannel,ut=y.Dispatch,at=0,ft={},ct="onreadystatechange",ht=function(){var t=+this;if(ft.hasOwnProperty(t)){var e=ft[t];delete ft[t],e()}},pt=function(t){ht.call(t.data)};ot&&it||(ot=function(t){for(var e=[],r=1;arguments.length>r;)e.push(arguments[r++]);return ft[++at]=function(){!function(t,e,r){var n=void 0===r;switch(e.length){case 0:return n?t():t.call(r);case 1:return n?t(e[0]):t.call(r,e[0]);case 2:return n?t(e[0],e[1]):t.call(r,e[0],e[1]);case 3:return n?t(e[0],e[1],e[2]):t.call(r,e[0],e[1],e[2]);case 4:return n?t(e[0],e[1],e[2],e[3]):t.call(r,e[0],e[1],e[2],e[3])}t.apply(r,e)}("function"==typeof t?t:Function(t),e)},N(at),at},it=function(t){delete ft[t]},"process"==c(nt)?N=function(t){nt.nextTick(g(ht,t,1))}:ut&&ut.now?N=function(t){ut.now(g(ht,t,1))}:st?(q=(D=new st).port2,D.port1.onmessage=pt,N=g(q.postMessage,q,1)):y.addEventListener&&"function"==typeof postMessage&&!y.importScripts?(N=function(t){y.postMessage(t+"","*")},y.addEventListener("message",pt,!1)):N=ct in T("script")?function(t){rt.appendChild(T("script"))[ct]=function(){rt.removeChild(this),ht.call(t)}}:function(t){setTimeout(g(ht,t,1),0)});var lt={set:ot,clear:it},dt=lt.set,yt=y.MutationObserver||y.WebKitMutationObserver,gt=y.process,vt=y.Promise,mt="process"==c(gt);function wt(t){var r,n;this.promise=new t(function(t,e){if(void 0!==r||void 0!==n)throw TypeError("Bad Promise constructor");r=t,n=e}),this.resolve=a(r),this.reject=a(n)}var bt={f:function(t){return new wt(t)}},Et=function(t){try{return{e:!1,v:t()}}catch(t){return{e:!0,v:t}}},xt=y.navigator,_t=xt&&xt.userAgent||"",jt=C.f,Bt=m("toStringTag"),At=m("species"),St=m("iterator"),Tt=!1;try{[7][St]().return=function(){Tt=!0}}catch(t){}var Ot,Ut,Ct,Pt,Rt,Lt,It,kt,Mt=lt.set,Nt=function(){var r,n,o,t=function(){var t,e;for(mt&&(t=gt.domain)&&t.exit();r;){e=r.fn,r=r.next;try{e()}catch(t){throw r?o():n=void 0,t}}n=void 0,t&&t.enter()};if(mt)o=function(){gt.nextTick(t)};else if(!yt||y.navigator&&y.navigator.standalone)if(vt&&vt.resolve){var e=vt.resolve(void 0);o=function(){e.then(t)}}else o=function(){dt.call(y,t)};else{var i=!0,s=document.createTextNode("");new yt(t).observe(s,{characterData:!0}),o=function(){s.data=i=!i}}return function(t){var e={fn:t,next:void 0};n&&(n.next=e),r||(r=e,o()),n=e}}(),Dt="Promise",qt=y.TypeError,Ft=y.process,zt=Ft&&Ft.versions,Yt=zt&&zt.v8||"",$t=y[Dt],Ht="process"==E(Ft),Xt=function(){},Gt=Ut=bt.f,Vt=!!function(){try{var t=$t.resolve(1),e=(t.constructor={})[m("species")]=function(t){t(Xt,Xt)};return(Ht||"function"==typeof PromiseRejectionEvent)&&t.then(Xt)instanceof e&&0!==Yt.indexOf("6.6")&&-1===_t.indexOf("Chrome/66")}catch(t){}}(),Wt=function(t){var e;return!(!x(t)||"function"!=typeof(e=t.then))&&e},Kt=function(c,r){if(!c._n){c._n=!0;var n=c._c;Nt(function(){for(var a=c._v,f=1==c._s,t=0,e=function(t){var e,r,n,o=f?t.ok:t.fail,i=t.resolve,s=t.reject,u=t.domain;try{o?(f||(2==c._h&&Qt(c),c._h=1),!0===o?e=a:(u&&u.enter(),e=o(a),u&&(u.exit(),n=!0)),e===t.promise?s(qt("Promise-chain cycle")):(r=Wt(e))?r.call(e,i,s):i(e)):s(a)}catch(t){u&&!n&&u.exit(),s(t)}};n.length>t;)e(n[t++]);c._c=[],c._n=!1,r&&!c._h&&Jt(c)})}},Jt=function(i){Mt.call(y,function(){var t,e,r,n=i._v,o=Zt(i);if(o&&(t=Et(function(){Ht?Ft.emit("unhandledRejection",n,i):(e=y.onunhandledrejection)?e({promise:i,reason:n}):(r=y.console)&&r.error&&r.error("Unhandled promise rejection",n)}),i._h=Ht||Zt(i)?2:1),i._a=void 0,o&&t.e)throw t.v})},Zt=function(t){return 1!==t._h&&0===(t._a||t._c).length},Qt=function(e){Mt.call(y,function(){var t;Ht?Ft.emit("rejectionHandled",e):(t=y.onrejectionhandled)&&t({promise:e,reason:e._v})})},te=function(t){var e=this;e._d||(e._d=!0,(e=e._w||e)._v=t,e._s=2,e._a||(e._a=e._c.slice()),Kt(e,!0))},ee=function(t){var r,n=this;if(!n._d){n._d=!0,n=n._w||n;try{if(n===t)throw qt("Promise can't be resolved itself");(r=Wt(t))?Nt(function(){var e={_w:n,_d:!1};try{r.call(t,g(ee,e,1),g(te,e,1))}catch(t){te.call(e,t)}}):(n._v=t,n._s=1,Kt(n,!1))}catch(t){te.call({_w:n,_d:!1},t)}}};Vt||($t=function(t){!function(t,e,r,n){if(!(t instanceof e)||void 0!==n&&n in t)throw TypeError(r+": incorrect invocation!")}(this,$t,Dt,"_h"),a(t),Ot.call(this);try{t(g(ee,this,1),g(te,this,1))}catch(t){te.call(this,t)}},(Ot=function(t){this._c=[],this._a=void 0,this._s=0,this._d=!1,this._v=void 0,this._h=0,this._n=!1}).prototype=function(t,e,r){for(var n in e)I(t,n,e[n],r);return t}($t.prototype,{then:function(t,e){var r,n,o,i=Gt((r=$t,void 0===(o=_(this).constructor)||null==(n=_(o)[tt])?r:a(n)));return i.ok="function"!=typeof t||t,i.fail="function"==typeof e&&e,i.domain=Ht?Ft.domain:void 0,this._c.push(i),this._a&&this._a.push(i),this._s&&Kt(this,!1),i.promise},catch:function(t){return this.then(void 0,t)}}),Ct=function(){var t=new Ot;this.promise=t,this.resolve=g(ee,t,1),this.reject=g(te,t,1)},bt.f=Gt=function(t){return t===$t||t===Pt?new Ct(t):Ut(t)}),F(F.G+F.W+F.F*!Vt,{Promise:$t}),Lt=Dt,(Rt=$t)&&!L(Rt=It?Rt:Rt.prototype,Bt)&&jt(Rt,Bt,{configurable:!0,value:Lt}),kt=y[Dt],B&&kt&&!kt[At]&&C.f(kt,At,{configurable:!0,get:function(){return this}}),Pt=v[Dt],F(F.S+F.F*!Vt,Dt,{reject:function(t){var e=Gt(this);return(0,e.reject)(t),e.promise}}),F(F.S+F.F*!Vt,Dt,{resolve:function(t){return function(t,e){if(_(t),x(e)&&e.constructor===t)return e;var r=bt.f(t);return(0,r.resolve)(e),r.promise}(this,t)}}),F(F.S+F.F*!(Vt&&function(t,e){if(!e&&!Tt)return!1;var r=!1;try{var n=[7],o=n[St]();o.next=function(){return{done:r=!0}},n[St]=function(){return o},t(n)}catch(t){}return r}(function(t){$t.all(t).catch(Xt)})),Dt,{all:function(t){var s=this,e=Gt(s),u=e.resolve,a=e.reject,r=Et(function(){var n=[],o=0,i=1;Q(t,!1,function(t){var e=o++,r=!1;n.push(void 0),i++,s.resolve(t).then(function(t){r||(r=!0,n[e]=t,--i||u(n))},a)}),--i||u(n)});return r.e&&a(r.v),e.promise},race:function(t){var e=this,r=Gt(e),n=r.reject,o=Et(function(){Q(t,!1,function(t){e.resolve(t).then(r.resolve,n)})});return o.e&&n(o.v),r.promise}});var re,ne,oe=Object("z").propertyIsEnumerable(0)?Object:function(t){return"String"==c(t)?t.split(""):Object(t)},ie=function(t){if(null==t)throw TypeError("Can't call method on  "+t);return t},se=function(t){return oe(ie(t))},ue=Math.max,ae=Math.min,fe=h("keys"),ce=(re=!1,function(t,e,r){var n,o,i,s=se(t),u=K(s.length),a=(o=u,(n=V(n=r))<0?ue(n+o,0):ae(n,o));if(re&&e!=e){for(;a<u;)if((i=s[a++])!=i)return!0}else for(;a<u;a++)if((re||a in s)&&s[a]===e)return re||a||0;return!re&&-1}),he=fe[ne="IE_PROTO"]||(fe[ne]=d(ne)),pe="constructor,hasOwnProperty,isPrototypeOf,propertyIsEnumerable,toLocaleString,toString,valueOf".split(","),le=Object.keys||function(t){return function(t,e){var r,n=se(t),o=0,i=[];for(r in n)r!=he&&L(n,r)&&i.push(r);for(;e.length>o;)L(n,r=e[o++])&&(~ce(i,r)||i.push(r));return i}(t,pe)},de={f:Object.getOwnPropertySymbols},ye={f:{}.propertyIsEnumerable},ge=Object.assign,ve=!ge||j(function(){var t={},e={},r=Symbol(),n="abcdefghijklmnopqrst";return t[r]=7,n.split("").forEach(function(t){e[t]=t}),7!=ge({},t)[r]||Object.keys(ge({},e)).join("")!=n})?function(t,e){for(var r=Object(ie(t)),n=arguments.length,o=1,i=de.f,s=ye.f;o<n;)for(var u,a=oe(arguments[o++]),f=i?le(a).concat(i(a)):le(a),c=f.length,h=0;h<c;)s.call(a,u=f[h++])&&(r[u]=a[u]);return r}:ge;function me(t){return(me="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}F(F.S+F.F,"Object",{assign:ve});var we=function(){var t=_(this),e="";return t.global&&(e+="g"),t.ignoreCase&&(e+="i"),t.multiline&&(e+="m"),t.unicode&&(e+="u"),t.sticky&&(e+="y"),e};B&&"g"!=/./g.flags&&C.f(RegExp.prototype,"flags",{configurable:!0,get:we});var be="toString",Ee=/./[be],xe=function(t){I(RegExp.prototype,be,t,!0)};j(function(){return"/a/b"!=Ee.call({source:"a",flags:"b"})})?xe(function(){var t=_(this);return"/".concat(t.source,"/","flags"in t?t.flags:!B&&t instanceof RegExp?we.call(t):void 0)}):Ee.name!=be&&xe(function(){return Ee.call(this)});var _e,je,Be,Ae,Se,Te,Oe,Ue=m("match"),Ce=function(t){var e;return x(t)&&(void 0!==(e=t[Ue])?!!e:"RegExp"==c(t))};je=2,Be=function(o,i,s){var l=Ce,d=s,y=[].push,t="split",g="length",v="lastIndex";if("c"=="abbc"[t](/(b)*/)[1]||4!="test"[t](/(?:)/,-1)[g]||2!="ab"[t](/(?:ab)*/)[g]||4!="."[t](/(.?)(.?)/)[g]||1<"."[t](/()()/)[g]||""[t](/.?/)[g]){var m=void 0===/()??/.exec("")[1];s=function(t,e){var r=String(this);if(void 0===t&&0===e)return[];if(!l(t))return d.call(r,t,e);var n,o,i,s,u,a=[],f=(t.ignoreCase?"i":"")+(t.multiline?"m":"")+(t.unicode?"u":"")+(t.sticky?"y":""),c=0,h=void 0===e?4294967295:e>>>0,p=new RegExp(t.source,f+"g");for(m||(n=new RegExp("^"+p.source+"$(?!\\s)",f));(o=p.exec(r))&&!(c<(i=o.index+o[0][g])&&(a.push(r.slice(c,o.index)),!m&&1<o[g]&&o[0].replace(n,function(){for(u=1;u<arguments[g]-2;u++)void 0===arguments[u]&&(o[u]=void 0)}),1<o[g]&&o.index<r[g]&&y.apply(a,o.slice(1)),s=o[0][g],c=i,a[g]>=h));)p[v]===o.index&&p[v]++;return c===r[g]?!s&&p.test("")||a.push(""):a.push(r.slice(c)),a[g]>h?a.slice(0,h):a}}else"0"[t](void 0,0)[g]&&(s=function(t,e){return void 0===t&&0===e?[]:d.call(this,t,e)});return[function(t,e){var r=o(this),n=null==t?void 0:t[i];return void 0!==n?n.call(t,r,e):s.call(String(r),t,e)},s]},Ae=m(_e="split"),Se=Be(ie,Ae,""[_e]),Te=Se[0],Oe=Se[1],j(function(){var t={};return t[Ae]=function(){return 7},7!=""[_e](t)})&&(I(String.prototype,_e,Te),P(RegExp.prototype,Ae,2==je?function(t,e){return Oe.call(t,this,e)}:function(t){return Oe.call(t,this)}));var Pe=C.f,Re=Function.prototype,Le=/^\s*function ([^ (]*)/;function Ie(t){return t=Object.assign({withCredentials:!0},t),n(t).then(function(t){return t.data}).catch(function(t){throw t.response.data&&(Object.assign(t,t.response.data),t.response.statusText&&Object.assign(t,{name:t.response.statusText.toLowerCase(),status:t.response.status})),t})}function ke(t){var e;if("function"==typeof t.getUrl)e=i(t.getUrl());else{var r=t.__opts&&t.__opts.prefix?t.__opts.prefix+"/":"";e=i(r+t.name)}var n=e.pathname,o=(n="/"===n.substr(-1,1)?n.substr(0,-1):n).split("/").slice(0,-1).join("/");return e.origin+o}function Me(t,e){return r(ke(t),(e?"/_node/"+e:"")+"/_config")}function Ne(t){return r(ke(t),"/_users")}function De(t){return r(ke(t),"/_session")}function qe(t){var e;if(t.__opts.auth)e=t.__opts.auth;else{var r=i(t.name);r.auth&&(e=r)}if(!e)return{};var n=e.username+":"+e.password;return{Authorization:"Basic "+o.btoa(unescape(encodeURIComponent(n)))}}function Fe(t){this.status=400,this.name="authentication_error",this.message=t,this.error=!0;try{Error.captureStackTrace(this,Fe)}catch(t){}}"name"in Re||B&&Pe(Re,"name",{configurable:!0,get:function(){try{return(""+this).match(Le)[1]}catch(t){return""}}}),e(Fe,Error);var ze=Function.prototype.toString,Ye=ze.call(Object);function $e(t){var e,r,n,o,i;if(!t||"object"!==me(t))return t;if(Array.isArray(t)){for(e=[],r=0,n=t.length;r<n;r++)e[r]=$e(t[r]);return e}if(t instanceof Date)return t.toISOString();if(t instanceof u)return o=t,u.hasOwnProperty("from")&&"function"==typeof u.from?i=u.from(o):(i=new u(o.length),o.copy(i)),i;if(!function(t){var e=Object.getPrototypeOf(t);if(null===e)return!0;var r=e.constructor;return"function"==typeof r&&r instanceof r&&ze.call(r)==Ye}(t))return t;for(r in e={},t)if(Object.prototype.hasOwnProperty.call(t,r)){var s=$e(t[r]);void 0!==s&&(e[r]=s)}return e}function He(t,e,r){return r||(r={}),-1===["http","https"].indexOf(this.type())?Promise.reject(new Fe("this plugin only works for the http/https adapter")):t?e?Ie(Object.assign({method:"POST",url:De(this),headers:Object.assign({"Content-Type":"application/json"},qe(this)),data:{name:t,password:e}},r.ajax||{})):Promise.reject(new Fe("you must provide a password")):Promise.reject(new Fe("you must provide a username"))}function Xe(t){return t||(t={}),Ie(Object.assign({method:"DELETE",url:De(this),headers:qe(this)},t.ajax||{}))}function Ge(t,e,r){var n=["_id","_rev","name","type","roles","password","password_scheme","iterations","derived_key","salt"];if(r.metadata){for(var o in r.metadata)if(r.metadata.hasOwnProperty(o)&&-1!==n.indexOf(o))return Promise.reject(new Fe('cannot use reserved word in metadata: "'+o+'"'));e=Object.assign(e,r.metadata)}r.roles&&(e=Object.assign(e,{roles:r.roles}));var i=Ne(t)+"/"+encodeURIComponent(e._id);return Ie(Object.assign({method:"PUT",url:i,data:e,headers:qe(t)},r.ajax||{}))}function Ve(t,e,r){return r||(r={}),-1===["http","https"].indexOf(this.type())?Promise.reject(new Fe('This plugin only works for the http/https adapter. So you should use new PouchDB("http://mysite.com:5984/mydb") instead.')):t?e?Ge(this,{name:t,password:e,roles:[],type:"user",_id:"org.couchdb.user:"+t},r):Promise.reject(new Fe("You must provide a password")):Promise.reject(new Fe("You must provide a username"))}var We={};We.login=He,We.logIn=He,We.logout=Xe,We.logOut=Xe,We.getSession=function(t){t||(t={});var e=De(this);return Ie(Object.assign({method:"GET",url:e,headers:qe(this)},t.ajax||{}))},We.getMembership=function(t){t||(t={});var e=ke(this)+"/_membership";return Ie(Object.assign({method:"GET",url:e,headers:qe(this)},t.ajax||{}))},We.signUpAdmin=function(o,i,s){var u=this;return-1===["http","https"].indexOf(u.type())?Promise.reject(new Fe('This plugin only works for the http/https adapter. So you should use new PouchDB("http://mysite.com:5984/mydb") instead.')):o?i?(s||(s={}),u.getMembership(s).catch(function(t){if("illegal_database_name"!==t.error)throw t;return t}).then(function(t){var e;e=t instanceof Error?void 0:t.all_nodes[0];var r=Me(u,e),n=(s.configUrl||r)+"/admins/"+encodeURIComponent(o);return Ie(Object.assign({method:"PUT",url:n,processData:!1,headers:qe(u),data:'"'+i+'"'},s.ajax||{}))})):Promise.reject(new Fe("You must provide a password")):Promise.reject(new Fe("You must provide a username"))},We.deleteAdmin=function(o,i){var s=this;return i||(i={}),-1===["http","https"].indexOf(s.type())?Promise.reject(new Fe('This plugin only works for the http/https adapter. So you should use new PouchDB("http://mysite.com:5984/mydb") instead.')):o?s.getMembership(i).catch(function(t){if("illegal_database_name"!==t.error)throw t;return t}).then(function(t){var e;e=t instanceof Error?void 0:t.all_nodes[0];var r=Me(s,e),n=(i.configUrl||r)+"/admins/"+encodeURIComponent(o);return Ie(Object.assign({method:"DELETE",url:n,processData:!1,headers:qe(s)},i.ajax||{}))}):Promise.reject(new Fe("You must provide a username"))},We.getUsersDatabaseUrl=function(){return Ne(this)},We.signup=Ve,We.signUp=Ve,We.getUser=function(t,e){if(e||(e={}),!t)return Promise.reject(new Fe("you must provide a username"));var r=Ne(this);return Ie(Object.assign({method:"GET",url:r+"/"+encodeURIComponent("org.couchdb.user:"+t),headers:qe(this)},e.ajax||{}))},We.putUser=function(t,e){var r=this;return e||(e={}),-1===["http","https"].indexOf(r.type())?Promise.reject(new Fe('This plugin only works for the http/https adapter. So you should use new PouchDB("http://mysite.com:5984/mydb") instead.')):t?r.getUser(t,e).then(function(t){return Ge(r,t,e)}):Promise.reject(new Fe("You must provide a username"))},We.deleteUser=function(t,r){var n=this;return r||(r={}),-1===["http","https"].indexOf(n.type())?Promise.reject(new Fe('This plugin only works for the http/https adapter. So you should use new PouchDB("http://mysite.com:5984/mydb") instead.')):t?n.getUser(t,r).then(function(t){var e=Ne(n)+"/"+encodeURIComponent(t._id)+"?rev="+t._rev;return Ie(Object.assign({method:"DELETE",url:e,headers:qe(n)},r.ajax||{}))}):Promise.reject(new Fe("You must provide a username"))},We.changePassword=function(t,r,n){var o=this;return n||(n={}),-1===["http","https"].indexOf(o.type())?Promise.reject(new Fe('This plugin only works for the http/https adapter. So you should use new PouchDB("http://mysite.com:5984/mydb") instead.')):t?r?o.getUser(t,n).then(function(t){t.password=r;var e=Ne(o)+"/"+encodeURIComponent(t._id);return Ie(Object.assign({method:"PUT",url:e,headers:qe(o),data:t},n.ajax||{}))}):Promise.reject(new Fe("You must provide a password")):Promise.reject(new Fe("You must provide a username"))},We.changeUsername=function(t,r,n){var o=this,i=function(t,e){var r=Ne(o)+"/"+encodeURIComponent(t._id);return Ie(Object.assign({method:"PUT",url:r,headers:qe(o),data:t},e.ajax))};return n||(n={}),n.ajax=n.ajax||{},-1===["http","https"].indexOf(o.type())?Promise.reject(new Fe('This plugin only works for the http/https adapter. So you should use new PouchDB("http://mysite.com:5984/mydb") instead.')):r?t?o.getUser(r,n).then(function(){var t=new Fe("user already exists");throw t.taken=!0,t},function(){return o.getUser(t,n)}).then(function(t){var e=$e(t);return delete e._rev,e._id="org.couchdb.user:"+r,e.name=r,e.roles=n.roles||t.roles||{},i(e,n).then(function(){return t._deleted=!0,i(t,n)})}):Promise.reject(new Fe("You must provide a username to rename")):Promise.reject(new Fe("You must provide a new username"))},"undefined"!=typeof window&&window.PouchDB&&window.PouchDB.plugin(We),Je.exports=We}).call(this,Ke(28).Buffer)},{2:2,28:28,30:30,32:32,36:36,37:37}],2:[function(t,e,r){e.exports=t(4)},{4:4}],3:[function(b,t,e){(function(p){"use strict";var l=b(26),d=b(13),y=b(18),g=b(24),v=b(22),m=b(10),w="undefined"!=typeof window&&window.btoa&&window.btoa.bind(window)||b(17);t.exports=function(h){return new Promise(function(r,n){var o=h.data,i=h.headers;l.isFormData(o)&&delete i["Content-Type"];var s=new XMLHttpRequest,t="onreadystatechange",u=!1;if("test"===p.env.NODE_ENV||"undefined"==typeof window||!window.XDomainRequest||"withCredentials"in s||v(h.url)||(s=new window.XDomainRequest,t="onload",u=!0,s.onprogress=function(){},s.ontimeout=function(){}),h.auth){var e=h.auth.username||"",a=h.auth.password||"";i.Authorization="Basic "+w(e+":"+a)}if(s.open(h.method.toUpperCase(),y(h.url,h.params,h.paramsSerializer),!0),s.timeout=h.timeout,s[t]=function(){if(s&&(4===s.readyState||u)&&(0!==s.status||s.responseURL&&0===s.responseURL.indexOf("file:"))){var t="getAllResponseHeaders"in s?g(s.getAllResponseHeaders()):null,e={data:h.responseType&&"text"!==h.responseType?s.response:s.responseText,status:1223===s.status?204:s.status,statusText:1223===s.status?"No Content":s.statusText,headers:t,config:h,request:s};d(r,n,e),s=null}},s.onerror=function(){n(m("Network Error",h,null,s)),s=null},s.ontimeout=function(){n(m("timeout of "+h.timeout+"ms exceeded",h,"ECONNABORTED",s)),s=null},l.isStandardBrowserEnv()){var f=b(20),c=(h.withCredentials||v(h.url))&&h.xsrfCookieName?f.read(h.xsrfCookieName):void 0;c&&(i[h.xsrfHeaderName]=c)}if("setRequestHeader"in s&&l.forEach(i,function(t,e){void 0===o&&"content-type"===e.toLowerCase()?delete i[e]:s.setRequestHeader(e,t)}),h.withCredentials&&(s.withCredentials=!0),h.responseType)try{s.responseType=h.responseType}catch(t){if("json"!==h.responseType)throw t}"function"==typeof h.onDownloadProgress&&s.addEventListener("progress",h.onDownloadProgress),"function"==typeof h.onUploadProgress&&s.upload&&s.upload.addEventListener("progress",h.onUploadProgress),h.cancelToken&&h.cancelToken.promise.then(function(t){s&&(s.abort(),n(t),s=null)}),void 0===o&&(o=null),s.send(o)})}}).call(this,b(33))},{10:10,13:13,17:17,18:18,20:20,22:22,24:24,26:26,33:33}],4:[function(t,e,r){"use strict";var n=t(26),o=t(16),i=t(8),s=t(15);function u(t){var e=new i(t),r=o(i.prototype.request,e);return n.extend(r,i.prototype,e),n.extend(r,e),r}var a=u(s);a.Axios=i,a.create=function(t){return u(n.merge(s,t))},a.Cancel=t(5),a.CancelToken=t(6),a.isCancel=t(7),a.all=function(t){return Promise.all(t)},a.spread=t(25),e.exports=a,e.exports.default=a},{15:15,16:16,25:25,26:26,5:5,6:6,7:7,8:8}],5:[function(t,e,r){"use strict";function n(t){this.message=t}n.prototype.toString=function(){return"Cancel"+(this.message?": "+this.message:"")},n.prototype.__CANCEL__=!0,e.exports=n},{}],6:[function(t,e,r){"use strict";var n=t(5);function o(t){if("function"!=typeof t)throw new TypeError("executor must be a function.");var e;this.promise=new Promise(function(t){e=t});var r=this;t(function(t){r.reason||(r.reason=new n(t),e(r.reason))})}o.prototype.throwIfRequested=function(){if(this.reason)throw this.reason},o.source=function(){var e;return{token:new o(function(t){e=t}),cancel:e}},e.exports=o},{5:5}],7:[function(t,e,r){"use strict";e.exports=function(t){return!(!t||!t.__CANCEL__)}},{}],8:[function(t,e,r){"use strict";var n=t(15),o=t(26),i=t(9),s=t(11);function u(t){this.defaults=t,this.interceptors={request:new i,response:new i}}u.prototype.request=function(t){"string"==typeof t&&(t=o.merge({url:arguments[0]},arguments[1])),(t=o.merge(n,{method:"get"},this.defaults,t)).method=t.method.toLowerCase();var e=[s,void 0],r=Promise.resolve(t);for(this.interceptors.request.forEach(function(t){e.unshift(t.fulfilled,t.rejected)}),this.interceptors.response.forEach(function(t){e.push(t.fulfilled,t.rejected)});e.length;)r=r.then(e.shift(),e.shift());return r},o.forEach(["delete","get","head","options"],function(r){u.prototype[r]=function(t,e){return this.request(o.merge(e||{},{method:r,url:t}))}}),o.forEach(["post","put","patch"],function(n){u.prototype[n]=function(t,e,r){return this.request(o.merge(r||{},{method:n,url:t,data:e}))}}),e.exports=u},{11:11,15:15,26:26,9:9}],9:[function(t,e,r){"use strict";var n=t(26);function o(){this.handlers=[]}o.prototype.use=function(t,e){return this.handlers.push({fulfilled:t,rejected:e}),this.handlers.length-1},o.prototype.eject=function(t){this.handlers[t]&&(this.handlers[t]=null)},o.prototype.forEach=function(e){n.forEach(this.handlers,function(t){null!==t&&e(t)})},e.exports=o},{26:26}],10:[function(t,e,r){"use strict";var s=t(12);e.exports=function(t,e,r,n,o){var i=new Error(t);return s(i,e,r,n,o)}},{12:12}],11:[function(t,e,r){"use strict";var n=t(26),o=t(14),i=t(7),s=t(15),u=t(21),a=t(19);function f(t){t.cancelToken&&t.cancelToken.throwIfRequested()}e.exports=function(e){return f(e),e.baseURL&&!u(e.url)&&(e.url=a(e.baseURL,e.url)),e.headers=e.headers||{},e.data=o(e.data,e.headers,e.transformRequest),e.headers=n.merge(e.headers.common||{},e.headers[e.method]||{},e.headers||{}),n.forEach(["delete","get","head","post","put","patch","common"],function(t){delete e.headers[t]}),(e.adapter||s.adapter)(e).then(function(t){return f(e),t.data=o(t.data,t.headers,e.transformResponse),t},function(t){return i(t)||(f(e),t&&t.response&&(t.response.data=o(t.response.data,t.response.headers,e.transformResponse))),Promise.reject(t)})}},{14:14,15:15,19:19,21:21,26:26,7:7}],12:[function(t,e,r){"use strict";e.exports=function(t,e,r,n,o){return t.config=e,r&&(t.code=r),t.request=n,t.response=o,t}},{}],13:[function(t,e,r){"use strict";var o=t(10);e.exports=function(t,e,r){var n=r.config.validateStatus;r.status&&n&&!n(r.status)?e(o("Request failed with status code "+r.status,r.config,null,r.request,r)):t(r)}},{10:10}],14:[function(t,e,r){"use strict";var n=t(26);e.exports=function(e,r,t){return n.forEach(t,function(t){e=t(e,r)}),e}},{26:26}],15:[function(u,a,t){(function(t){"use strict";var r=u(26),n=u(23),e={"Content-Type":"application/x-www-form-urlencoded"};function o(t,e){!r.isUndefined(t)&&r.isUndefined(t["Content-Type"])&&(t["Content-Type"]=e)}var i,s={adapter:("undefined"!=typeof XMLHttpRequest?i=u(3):void 0!==t&&(i=u(3)),i),transformRequest:[function(t,e){return n(e,"Content-Type"),r.isFormData(t)||r.isArrayBuffer(t)||r.isBuffer(t)||r.isStream(t)||r.isFile(t)||r.isBlob(t)?t:r.isArrayBufferView(t)?t.buffer:r.isURLSearchParams(t)?(o(e,"application/x-www-form-urlencoded;charset=utf-8"),t.toString()):r.isObject(t)?(o(e,"application/json;charset=utf-8"),JSON.stringify(t)):t}],transformResponse:[function(t){if("string"==typeof t)try{t=JSON.parse(t)}catch(t){}return t}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,validateStatus:function(t){return 200<=t&&t<300}};s.headers={common:{Accept:"application/json, text/plain, */*"}},r.forEach(["delete","get","head"],function(t){s.headers[t]={}}),r.forEach(["post","put","patch"],function(t){s.headers[t]=r.merge(e)}),a.exports=s}).call(this,u(33))},{23:23,26:26,3:3,33:33}],16:[function(t,e,r){"use strict";e.exports=function(r,n){return function(){for(var t=new Array(arguments.length),e=0;e<t.length;e++)t[e]=arguments[e];return r.apply(n,t)}}},{}],17:[function(t,e,r){"use strict";function u(){this.message="String contains an invalid character"}(u.prototype=new Error).code=5,u.prototype.name="InvalidCharacterError",e.exports=function(t){for(var e,r,n=String(t),o="",i=0,s="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=";n.charAt(0|i)||(s="=",i%1);o+=s.charAt(63&e>>8-i%1*8)){if(255<(r=n.charCodeAt(i+=.75)))throw new u;e=e<<8|r}return o}},{}],18:[function(t,e,r){"use strict";var i=t(26);function s(t){return encodeURIComponent(t).replace(/%40/gi,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+").replace(/%5B/gi,"[").replace(/%5D/gi,"]")}e.exports=function(t,e,r){if(!e)return t;var n;if(r)n=r(e);else if(i.isURLSearchParams(e))n=e.toString();else{var o=[];i.forEach(e,function(t,e){null!=t&&(i.isArray(t)?e+="[]":t=[t],i.forEach(t,function(t){i.isDate(t)?t=t.toISOString():i.isObject(t)&&(t=JSON.stringify(t)),o.push(s(e)+"="+s(t))}))}),n=o.join("&")}return n&&(t+=(-1===t.indexOf("?")?"?":"&")+n),t}},{26:26}],19:[function(t,e,r){"use strict";e.exports=function(t,e){return e?t.replace(/\/+$/,"")+"/"+e.replace(/^\/+/,""):t}},{}],20:[function(t,e,r){"use strict";var u=t(26);e.exports=u.isStandardBrowserEnv()?{write:function(t,e,r,n,o,i){var s=[];s.push(t+"="+encodeURIComponent(e)),u.isNumber(r)&&s.push("expires="+new Date(r).toGMTString()),u.isString(n)&&s.push("path="+n),u.isString(o)&&s.push("domain="+o),!0===i&&s.push("secure"),document.cookie=s.join("; ")},read:function(t){var e=document.cookie.match(new RegExp("(^|;\\s*)("+t+")=([^;]*)"));return e?decodeURIComponent(e[3]):null},remove:function(t){this.write(t,"",Date.now()-864e5)}}:{write:function(){},read:function(){return null},remove:function(){}}},{26:26}],21:[function(t,e,r){"use strict";e.exports=function(t){return/^([a-z][a-z\d\+\-\.]*:)?\/\//i.test(t)}},{}],22:[function(t,e,r){"use strict";var s=t(26);e.exports=s.isStandardBrowserEnv()?function(){var r,n=/(msie|trident)/i.test(navigator.userAgent),o=document.createElement("a");function i(t){var e=t;return n&&(o.setAttribute("href",e),e=o.href),o.setAttribute("href",e),{href:o.href,protocol:o.protocol?o.protocol.replace(/:$/,""):"",host:o.host,search:o.search?o.search.replace(/^\?/,""):"",hash:o.hash?o.hash.replace(/^#/,""):"",hostname:o.hostname,port:o.port,pathname:"/"===o.pathname.charAt(0)?o.pathname:"/"+o.pathname}}return r=i(window.location.href),function(t){var e=s.isString(t)?i(t):t;return e.protocol===r.protocol&&e.host===r.host}}():function(){return!0}},{26:26}],23:[function(t,e,r){"use strict";var o=t(26);e.exports=function(r,n){o.forEach(r,function(t,e){e!==n&&e.toUpperCase()===n.toUpperCase()&&(r[n]=t,delete r[e])})}},{26:26}],24:[function(t,e,r){"use strict";var i=t(26),s=["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"];e.exports=function(t){var e,r,n,o={};return t&&i.forEach(t.split("\n"),function(t){if(n=t.indexOf(":"),e=i.trim(t.substr(0,n)).toLowerCase(),r=i.trim(t.substr(n+1)),e){if(o[e]&&0<=s.indexOf(e))return;o[e]="set-cookie"===e?(o[e]?o[e]:[]).concat([r]):o[e]?o[e]+", "+r:r}}),o}},{26:26}],25:[function(t,e,r){"use strict";e.exports=function(e){return function(t){return e.apply(null,t)}}},{}],26:[function(t,e,r){"use strict";var o=t(16),n=t(31),i=Object.prototype.toString;function s(t){return"[object Array]"===i.call(t)}function u(t){return null!==t&&"object"==typeof t}function a(t){return"[object Function]"===i.call(t)}function f(t,e){if(null!=t)if("object"!=typeof t&&(t=[t]),s(t))for(var r=0,n=t.length;r<n;r++)e.call(null,t[r],r,t);else for(var o in t)Object.prototype.hasOwnProperty.call(t,o)&&e.call(null,t[o],o,t)}e.exports={isArray:s,isArrayBuffer:function(t){return"[object ArrayBuffer]"===i.call(t)},isBuffer:n,isFormData:function(t){return"undefined"!=typeof FormData&&t instanceof FormData},isArrayBufferView:function(t){return"undefined"!=typeof ArrayBuffer&&ArrayBuffer.isView?ArrayBuffer.isView(t):t&&t.buffer&&t.buffer instanceof ArrayBuffer},isString:function(t){return"string"==typeof t},isNumber:function(t){return"number"==typeof t},isObject:u,isUndefined:function(t){return void 0===t},isDate:function(t){return"[object Date]"===i.call(t)},isFile:function(t){return"[object File]"===i.call(t)},isBlob:function(t){return"[object Blob]"===i.call(t)},isFunction:a,isStream:function(t){return u(t)&&a(t.pipe)},isURLSearchParams:function(t){return"undefined"!=typeof URLSearchParams&&t instanceof URLSearchParams},isStandardBrowserEnv:function(){return("undefined"==typeof navigator||"ReactNative"!==navigator.product)&&"undefined"!=typeof window&&"undefined"!=typeof document},forEach:f,merge:function r(){var n={};function t(t,e){"object"==typeof n[e]&&"object"==typeof t?n[e]=r(n[e],t):n[e]=t}for(var e=0,o=arguments.length;e<o;e++)f(arguments[e],t);return n},extend:function(r,t,n){return f(t,function(t,e){r[e]=n&&"function"==typeof t?o(t,n):t}),r},trim:function(t){return t.replace(/^\s*/,"").replace(/\s*$/,"")}}},{16:16,31:31}],27:[function(t,e,r){"use strict";r.byteLength=function(t){var e=l(t),r=e[0],n=e[1];return 3*(r+n)/4-n},r.toByteArray=function(t){for(var e,r=l(t),n=r[0],o=r[1],i=new p((f=n,c=o,3*(f+c)/4-c)),s=0,u=0<o?n-4:n,a=0;a<u;a+=4)e=h[t.charCodeAt(a)]<<18|h[t.charCodeAt(a+1)]<<12|h[t.charCodeAt(a+2)]<<6|h[t.charCodeAt(a+3)],i[s++]=e>>16&255,i[s++]=e>>8&255,i[s++]=255&e;var f,c;2===o&&(e=h[t.charCodeAt(a)]<<2|h[t.charCodeAt(a+1)]>>4,i[s++]=255&e);1===o&&(e=h[t.charCodeAt(a)]<<10|h[t.charCodeAt(a+1)]<<4|h[t.charCodeAt(a+2)]>>2,i[s++]=e>>8&255,i[s++]=255&e);return i},r.fromByteArray=function(t){for(var e,r=t.length,n=r%3,o=[],i=0,s=r-n;i<s;i+=16383)o.push(a(t,i,s<i+16383?s:i+16383));1===n?(e=t[r-1],o.push(u[e>>2]+u[e<<4&63]+"==")):2===n&&(e=(t[r-2]<<8)+t[r-1],o.push(u[e>>10]+u[e>>4&63]+u[e<<2&63]+"="));return o.join("")};for(var u=[],h=[],p="undefined"!=typeof Uint8Array?Uint8Array:Array,n="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",o=0,i=n.length;o<i;++o)u[o]=n[o],h[n.charCodeAt(o)]=o;function l(t){var e=t.length;if(0<e%4)throw new Error("Invalid string. Length must be a multiple of 4");var r=t.indexOf("=");return-1===r&&(r=e),[r,r===e?0:4-r%4]}function a(t,e,r){for(var n,o,i=[],s=e;s<r;s+=3)n=(t[s]<<16&16711680)+(t[s+1]<<8&65280)+(255&t[s+2]),i.push(u[(o=n)>>18&63]+u[o>>12&63]+u[o>>6&63]+u[63&o]);return i.join("")}h["-".charCodeAt(0)]=62,h["_".charCodeAt(0)]=63},{}],28:[function(t,e,r){"use strict";var n=t(27),i=t(29);r.Buffer=h,r.SlowBuffer=function(t){+t!=t&&(t=0);return h.alloc(+t)},r.INSPECT_MAX_BYTES=50;var o=2147483647;function s(t){if(o<t)throw new RangeError('The value "'+t+'" is invalid for option "size"');var e=new Uint8Array(t);return e.__proto__=h.prototype,e}function h(t,e,r){if("number"!=typeof t)return u(t,e,r);if("string"==typeof e)throw new TypeError('The "string" argument must be of type string. Received type number');return f(t)}function u(t,e,r){if("string"==typeof t)return function(t,e){"string"==typeof e&&""!==e||(e="utf8");if(!h.isEncoding(e))throw new TypeError("Unknown encoding: "+e);var r=0|l(t,e),n=s(r),o=n.write(t,e);o!==r&&(n=n.slice(0,o));return n}(t,e);if(ArrayBuffer.isView(t))return c(t);if(null==t)throw TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof t);if(k(t,ArrayBuffer)||t&&k(t.buffer,ArrayBuffer))return function(t,e,r){if(e<0||t.byteLength<e)throw new RangeError('"offset" is outside of buffer bounds');if(t.byteLength<e+(r||0))throw new RangeError('"length" is outside of buffer bounds');var n;n=void 0===e&&void 0===r?new Uint8Array(t):void 0===r?new Uint8Array(t,e):new Uint8Array(t,e,r);return n.__proto__=h.prototype,n}(t,e,r);if("number"==typeof t)throw new TypeError('The "value" argument must not be of type number. Received type number');var n=t.valueOf&&t.valueOf();if(null!=n&&n!==t)return h.from(n,e,r);var o=function(t){if(h.isBuffer(t)){var e=0|p(t.length),r=s(e);return 0===r.length||t.copy(r,0,0,e),r}if(void 0!==t.length)return"number"!=typeof t.length||M(t.length)?s(0):c(t);if("Buffer"===t.type&&Array.isArray(t.data))return c(t.data)}(t);if(o)return o;if("undefined"!=typeof Symbol&&null!=Symbol.toPrimitive&&"function"==typeof t[Symbol.toPrimitive])return h.from(t[Symbol.toPrimitive]("string"),e,r);throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof t)}function a(t){if("number"!=typeof t)throw new TypeError('"size" argument must be of type number');if(t<0)throw new RangeError('The value "'+t+'" is invalid for option "size"')}function f(t){return a(t),s(t<0?0:0|p(t))}function c(t){for(var e=t.length<0?0:0|p(t.length),r=s(e),n=0;n<e;n+=1)r[n]=255&t[n];return r}function p(t){if(o<=t)throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+o.toString(16)+" bytes");return 0|t}function l(t,e){if(h.isBuffer(t))return t.length;if(ArrayBuffer.isView(t)||k(t,ArrayBuffer))return t.byteLength;if("string"!=typeof t)throw new TypeError('The "string" argument must be one of type string, Buffer, or ArrayBuffer. Received type '+typeof t);var r=t.length,n=2<arguments.length&&!0===arguments[2];if(!n&&0===r)return 0;for(var o=!1;;)switch(e){case"ascii":case"latin1":case"binary":return r;case"utf8":case"utf-8":return R(t).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return 2*r;case"hex":return r>>>1;case"base64":return L(t).length;default:if(o)return n?-1:R(t).length;e=(""+e).toLowerCase(),o=!0}}function d(t,e,r){var n=t[e];t[e]=t[r],t[r]=n}function y(t,e,r,n,o){if(0===t.length)return-1;if("string"==typeof r?(n=r,r=0):2147483647<r?r=2147483647:r<-2147483648&&(r=-2147483648),M(r=+r)&&(r=o?0:t.length-1),r<0&&(r=t.length+r),r>=t.length){if(o)return-1;r=t.length-1}else if(r<0){if(!o)return-1;r=0}if("string"==typeof e&&(e=h.from(e,n)),h.isBuffer(e))return 0===e.length?-1:g(t,e,r,n,o);if("number"==typeof e)return e&=255,"function"==typeof Uint8Array.prototype.indexOf?o?Uint8Array.prototype.indexOf.call(t,e,r):Uint8Array.prototype.lastIndexOf.call(t,e,r):g(t,[e],r,n,o);throw new TypeError("val must be string, number or Buffer")}function g(t,e,r,n,o){var i,s=1,u=t.length,a=e.length;if(void 0!==n&&("ucs2"===(n=String(n).toLowerCase())||"ucs-2"===n||"utf16le"===n||"utf-16le"===n)){if(t.length<2||e.length<2)return-1;u/=s=2,a/=2,r/=2}function f(t,e){return 1===s?t[e]:t.readUInt16BE(e*s)}if(o){var c=-1;for(i=r;i<u;i++)if(f(t,i)===f(e,-1===c?0:i-c)){if(-1===c&&(c=i),i-c+1===a)return c*s}else-1!==c&&(i-=i-c),c=-1}else for(u<r+a&&(r=u-a),i=r;0<=i;i--){for(var h=!0,p=0;p<a;p++)if(f(t,i+p)!==f(e,p)){h=!1;break}if(h)return i}return-1}function v(t,e,r,n){r=Number(r)||0;var o=t.length-r;n?o<(n=Number(n))&&(n=o):n=o;var i=e.length;i/2<n&&(n=i/2);for(var s=0;s<n;++s){var u=parseInt(e.substr(2*s,2),16);if(M(u))return s;t[r+s]=u}return s}function m(t,e,r,n){return I(function(t){for(var e=[],r=0;r<t.length;++r)e.push(255&t.charCodeAt(r));return e}(e),t,r,n)}function w(t,e,r){return 0===e&&r===t.length?n.fromByteArray(t):n.fromByteArray(t.slice(e,r))}function b(t,e,r){r=Math.min(t.length,r);for(var n=[],o=e;o<r;){var i,s,u,a,f=t[o],c=null,h=239<f?4:223<f?3:191<f?2:1;if(o+h<=r)switch(h){case 1:f<128&&(c=f);break;case 2:128==(192&(i=t[o+1]))&&127<(a=(31&f)<<6|63&i)&&(c=a);break;case 3:i=t[o+1],s=t[o+2],128==(192&i)&&128==(192&s)&&2047<(a=(15&f)<<12|(63&i)<<6|63&s)&&(a<55296||57343<a)&&(c=a);break;case 4:i=t[o+1],s=t[o+2],u=t[o+3],128==(192&i)&&128==(192&s)&&128==(192&u)&&65535<(a=(15&f)<<18|(63&i)<<12|(63&s)<<6|63&u)&&a<1114112&&(c=a)}null===c?(c=65533,h=1):65535<c&&(c-=65536,n.push(c>>>10&1023|55296),c=56320|1023&c),n.push(c),o+=h}return function(t){var e=t.length;if(e<=E)return String.fromCharCode.apply(String,t);var r="",n=0;for(;n<e;)r+=String.fromCharCode.apply(String,t.slice(n,n+=E));return r}(n)}r.kMaxLength=o,(h.TYPED_ARRAY_SUPPORT=function(){try{var t=new Uint8Array(1);return t.__proto__={__proto__:Uint8Array.prototype,foo:function(){return 42}},42===t.foo()}catch(t){return!1}}())||"undefined"==typeof console||"function"!=typeof console.error||console.error("This browser lacks typed array (Uint8Array) support which is required by `buffer` v5.x. Use `buffer` v4.x if you require old browser support."),Object.defineProperty(h.prototype,"parent",{enumerable:!0,get:function(){if(h.isBuffer(this))return this.buffer}}),Object.defineProperty(h.prototype,"offset",{enumerable:!0,get:function(){if(h.isBuffer(this))return this.byteOffset}}),"undefined"!=typeof Symbol&&null!=Symbol.species&&h[Symbol.species]===h&&Object.defineProperty(h,Symbol.species,{value:null,configurable:!0,enumerable:!1,writable:!1}),h.poolSize=8192,h.from=function(t,e,r){return u(t,e,r)},h.prototype.__proto__=Uint8Array.prototype,h.__proto__=Uint8Array,h.alloc=function(t,e,r){return o=e,i=r,a(n=t),n<=0?s(n):void 0!==o?"string"==typeof i?s(n).fill(o,i):s(n).fill(o):s(n);var n,o,i},h.allocUnsafe=function(t){return f(t)},h.allocUnsafeSlow=function(t){return f(t)},h.isBuffer=function(t){return null!=t&&!0===t._isBuffer&&t!==h.prototype},h.compare=function(t,e){if(k(t,Uint8Array)&&(t=h.from(t,t.offset,t.byteLength)),k(e,Uint8Array)&&(e=h.from(e,e.offset,e.byteLength)),!h.isBuffer(t)||!h.isBuffer(e))throw new TypeError('The "buf1", "buf2" arguments must be one of type Buffer or Uint8Array');if(t===e)return 0;for(var r=t.length,n=e.length,o=0,i=Math.min(r,n);o<i;++o)if(t[o]!==e[o]){r=t[o],n=e[o];break}return r<n?-1:n<r?1:0},h.isEncoding=function(t){switch(String(t).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},h.concat=function(t,e){if(!Array.isArray(t))throw new TypeError('"list" argument must be an Array of Buffers');if(0===t.length)return h.alloc(0);var r;if(void 0===e)for(r=e=0;r<t.length;++r)e+=t[r].length;var n=h.allocUnsafe(e),o=0;for(r=0;r<t.length;++r){var i=t[r];if(k(i,Uint8Array)&&(i=h.from(i)),!h.isBuffer(i))throw new TypeError('"list" argument must be an Array of Buffers');i.copy(n,o),o+=i.length}return n},h.byteLength=l,h.prototype._isBuffer=!0,h.prototype.swap16=function(){var t=this.length;if(t%2!=0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(var e=0;e<t;e+=2)d(this,e,e+1);return this},h.prototype.swap32=function(){var t=this.length;if(t%4!=0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(var e=0;e<t;e+=4)d(this,e,e+3),d(this,e+1,e+2);return this},h.prototype.swap64=function(){var t=this.length;if(t%8!=0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(var e=0;e<t;e+=8)d(this,e,e+7),d(this,e+1,e+6),d(this,e+2,e+5),d(this,e+3,e+4);return this},h.prototype.toLocaleString=h.prototype.toString=function(){var t=this.length;return 0===t?"":0===arguments.length?b(this,0,t):function(t,e,r){var n=!1;if((void 0===e||e<0)&&(e=0),e>this.length)return"";if((void 0===r||r>this.length)&&(r=this.length),r<=0)return"";if((r>>>=0)<=(e>>>=0))return"";for(t||(t="utf8");;)switch(t){case"hex":return j(this,e,r);case"utf8":case"utf-8":return b(this,e,r);case"ascii":return x(this,e,r);case"latin1":case"binary":return _(this,e,r);case"base64":return w(this,e,r);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return B(this,e,r);default:if(n)throw new TypeError("Unknown encoding: "+t);t=(t+"").toLowerCase(),n=!0}}.apply(this,arguments)},h.prototype.equals=function(t){if(!h.isBuffer(t))throw new TypeError("Argument must be a Buffer");return this===t||0===h.compare(this,t)},h.prototype.inspect=function(){var t="",e=r.INSPECT_MAX_BYTES;return t=this.toString("hex",0,e).replace(/(.{2})/g,"$1 ").trim(),this.length>e&&(t+=" ... "),"<Buffer "+t+">"},h.prototype.compare=function(t,e,r,n,o){if(k(t,Uint8Array)&&(t=h.from(t,t.offset,t.byteLength)),!h.isBuffer(t))throw new TypeError('The "target" argument must be one of type Buffer or Uint8Array. Received type '+typeof t);if(void 0===e&&(e=0),void 0===r&&(r=t?t.length:0),void 0===n&&(n=0),void 0===o&&(o=this.length),e<0||r>t.length||n<0||o>this.length)throw new RangeError("out of range index");if(o<=n&&r<=e)return 0;if(o<=n)return-1;if(r<=e)return 1;if(this===t)return 0;for(var i=(o>>>=0)-(n>>>=0),s=(r>>>=0)-(e>>>=0),u=Math.min(i,s),a=this.slice(n,o),f=t.slice(e,r),c=0;c<u;++c)if(a[c]!==f[c]){i=a[c],s=f[c];break}return i<s?-1:s<i?1:0},h.prototype.includes=function(t,e,r){return-1!==this.indexOf(t,e,r)},h.prototype.indexOf=function(t,e,r){return y(this,t,e,r,!0)},h.prototype.lastIndexOf=function(t,e,r){return y(this,t,e,r,!1)},h.prototype.write=function(t,e,r,n){if(void 0===e)n="utf8",r=this.length,e=0;else if(void 0===r&&"string"==typeof e)n=e,r=this.length,e=0;else{if(!isFinite(e))throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");e>>>=0,isFinite(r)?(r>>>=0,void 0===n&&(n="utf8")):(n=r,r=void 0)}var o=this.length-e;if((void 0===r||o<r)&&(r=o),0<t.length&&(r<0||e<0)||e>this.length)throw new RangeError("Attempt to write outside buffer bounds");n||(n="utf8");for(var i,s,u,a,f,c,h,p,l,d=!1;;)switch(n){case"hex":return v(this,t,e,r);case"utf8":case"utf-8":return p=e,l=r,I(R(t,(h=this).length-p),h,p,l);case"ascii":return m(this,t,e,r);case"latin1":case"binary":return m(this,t,e,r);case"base64":return a=this,f=e,c=r,I(L(t),a,f,c);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return s=e,u=r,I(function(t,e){for(var r,n,o,i=[],s=0;s<t.length&&!((e-=2)<0);++s)r=t.charCodeAt(s),n=r>>8,o=r%256,i.push(o),i.push(n);return i}(t,(i=this).length-s),i,s,u);default:if(d)throw new TypeError("Unknown encoding: "+n);n=(""+n).toLowerCase(),d=!0}},h.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};var E=4096;function x(t,e,r){var n="";r=Math.min(t.length,r);for(var o=e;o<r;++o)n+=String.fromCharCode(127&t[o]);return n}function _(t,e,r){var n="";r=Math.min(t.length,r);for(var o=e;o<r;++o)n+=String.fromCharCode(t[o]);return n}function j(t,e,r){var n=t.length;(!e||e<0)&&(e=0),(!r||r<0||n<r)&&(r=n);for(var o="",i=e;i<r;++i)o+=P(t[i]);return o}function B(t,e,r){for(var n=t.slice(e,r),o="",i=0;i<n.length;i+=2)o+=String.fromCharCode(n[i]+256*n[i+1]);return o}function A(t,e,r){if(t%1!=0||t<0)throw new RangeError("offset is not uint");if(r<t+e)throw new RangeError("Trying to access beyond buffer length")}function S(t,e,r,n,o,i){if(!h.isBuffer(t))throw new TypeError('"buffer" argument must be a Buffer instance');if(o<e||e<i)throw new RangeError('"value" argument is out of bounds');if(r+n>t.length)throw new RangeError("Index out of range")}function T(t,e,r,n,o,i){if(r+n>t.length)throw new RangeError("Index out of range");if(r<0)throw new RangeError("Index out of range")}function O(t,e,r,n,o){return e=+e,r>>>=0,o||T(t,0,r,4),i.write(t,e,r,n,23,4),r+4}function U(t,e,r,n,o){return e=+e,r>>>=0,o||T(t,0,r,8),i.write(t,e,r,n,52,8),r+8}h.prototype.slice=function(t,e){var r=this.length;(t=~~t)<0?(t+=r)<0&&(t=0):r<t&&(t=r),(e=void 0===e?r:~~e)<0?(e+=r)<0&&(e=0):r<e&&(e=r),e<t&&(e=t);var n=this.subarray(t,e);return n.__proto__=h.prototype,n},h.prototype.readUIntLE=function(t,e,r){t>>>=0,e>>>=0,r||A(t,e,this.length);for(var n=this[t],o=1,i=0;++i<e&&(o*=256);)n+=this[t+i]*o;return n},h.prototype.readUIntBE=function(t,e,r){t>>>=0,e>>>=0,r||A(t,e,this.length);for(var n=this[t+--e],o=1;0<e&&(o*=256);)n+=this[t+--e]*o;return n},h.prototype.readUInt8=function(t,e){return t>>>=0,e||A(t,1,this.length),this[t]},h.prototype.readUInt16LE=function(t,e){return t>>>=0,e||A(t,2,this.length),this[t]|this[t+1]<<8},h.prototype.readUInt16BE=function(t,e){return t>>>=0,e||A(t,2,this.length),this[t]<<8|this[t+1]},h.prototype.readUInt32LE=function(t,e){return t>>>=0,e||A(t,4,this.length),(this[t]|this[t+1]<<8|this[t+2]<<16)+16777216*this[t+3]},h.prototype.readUInt32BE=function(t,e){return t>>>=0,e||A(t,4,this.length),16777216*this[t]+(this[t+1]<<16|this[t+2]<<8|this[t+3])},h.prototype.readIntLE=function(t,e,r){t>>>=0,e>>>=0,r||A(t,e,this.length);for(var n=this[t],o=1,i=0;++i<e&&(o*=256);)n+=this[t+i]*o;return(o*=128)<=n&&(n-=Math.pow(2,8*e)),n},h.prototype.readIntBE=function(t,e,r){t>>>=0,e>>>=0,r||A(t,e,this.length);for(var n=e,o=1,i=this[t+--n];0<n&&(o*=256);)i+=this[t+--n]*o;return(o*=128)<=i&&(i-=Math.pow(2,8*e)),i},h.prototype.readInt8=function(t,e){return t>>>=0,e||A(t,1,this.length),128&this[t]?-1*(255-this[t]+1):this[t]},h.prototype.readInt16LE=function(t,e){t>>>=0,e||A(t,2,this.length);var r=this[t]|this[t+1]<<8;return 32768&r?4294901760|r:r},h.prototype.readInt16BE=function(t,e){t>>>=0,e||A(t,2,this.length);var r=this[t+1]|this[t]<<8;return 32768&r?4294901760|r:r},h.prototype.readInt32LE=function(t,e){return t>>>=0,e||A(t,4,this.length),this[t]|this[t+1]<<8|this[t+2]<<16|this[t+3]<<24},h.prototype.readInt32BE=function(t,e){return t>>>=0,e||A(t,4,this.length),this[t]<<24|this[t+1]<<16|this[t+2]<<8|this[t+3]},h.prototype.readFloatLE=function(t,e){return t>>>=0,e||A(t,4,this.length),i.read(this,t,!0,23,4)},h.prototype.readFloatBE=function(t,e){return t>>>=0,e||A(t,4,this.length),i.read(this,t,!1,23,4)},h.prototype.readDoubleLE=function(t,e){return t>>>=0,e||A(t,8,this.length),i.read(this,t,!0,52,8)},h.prototype.readDoubleBE=function(t,e){return t>>>=0,e||A(t,8,this.length),i.read(this,t,!1,52,8)},h.prototype.writeUIntLE=function(t,e,r,n){(t=+t,e>>>=0,r>>>=0,n)||S(this,t,e,r,Math.pow(2,8*r)-1,0);var o=1,i=0;for(this[e]=255&t;++i<r&&(o*=256);)this[e+i]=t/o&255;return e+r},h.prototype.writeUIntBE=function(t,e,r,n){(t=+t,e>>>=0,r>>>=0,n)||S(this,t,e,r,Math.pow(2,8*r)-1,0);var o=r-1,i=1;for(this[e+o]=255&t;0<=--o&&(i*=256);)this[e+o]=t/i&255;return e+r},h.prototype.writeUInt8=function(t,e,r){return t=+t,e>>>=0,r||S(this,t,e,1,255,0),this[e]=255&t,e+1},h.prototype.writeUInt16LE=function(t,e,r){return t=+t,e>>>=0,r||S(this,t,e,2,65535,0),this[e]=255&t,this[e+1]=t>>>8,e+2},h.prototype.writeUInt16BE=function(t,e,r){return t=+t,e>>>=0,r||S(this,t,e,2,65535,0),this[e]=t>>>8,this[e+1]=255&t,e+2},h.prototype.writeUInt32LE=function(t,e,r){return t=+t,e>>>=0,r||S(this,t,e,4,4294967295,0),this[e+3]=t>>>24,this[e+2]=t>>>16,this[e+1]=t>>>8,this[e]=255&t,e+4},h.prototype.writeUInt32BE=function(t,e,r){return t=+t,e>>>=0,r||S(this,t,e,4,4294967295,0),this[e]=t>>>24,this[e+1]=t>>>16,this[e+2]=t>>>8,this[e+3]=255&t,e+4},h.prototype.writeIntLE=function(t,e,r,n){if(t=+t,e>>>=0,!n){var o=Math.pow(2,8*r-1);S(this,t,e,r,o-1,-o)}var i=0,s=1,u=0;for(this[e]=255&t;++i<r&&(s*=256);)t<0&&0===u&&0!==this[e+i-1]&&(u=1),this[e+i]=(t/s>>0)-u&255;return e+r},h.prototype.writeIntBE=function(t,e,r,n){if(t=+t,e>>>=0,!n){var o=Math.pow(2,8*r-1);S(this,t,e,r,o-1,-o)}var i=r-1,s=1,u=0;for(this[e+i]=255&t;0<=--i&&(s*=256);)t<0&&0===u&&0!==this[e+i+1]&&(u=1),this[e+i]=(t/s>>0)-u&255;return e+r},h.prototype.writeInt8=function(t,e,r){return t=+t,e>>>=0,r||S(this,t,e,1,127,-128),t<0&&(t=255+t+1),this[e]=255&t,e+1},h.prototype.writeInt16LE=function(t,e,r){return t=+t,e>>>=0,r||S(this,t,e,2,32767,-32768),this[e]=255&t,this[e+1]=t>>>8,e+2},h.prototype.writeInt16BE=function(t,e,r){return t=+t,e>>>=0,r||S(this,t,e,2,32767,-32768),this[e]=t>>>8,this[e+1]=255&t,e+2},h.prototype.writeInt32LE=function(t,e,r){return t=+t,e>>>=0,r||S(this,t,e,4,2147483647,-2147483648),this[e]=255&t,this[e+1]=t>>>8,this[e+2]=t>>>16,this[e+3]=t>>>24,e+4},h.prototype.writeInt32BE=function(t,e,r){return t=+t,e>>>=0,r||S(this,t,e,4,2147483647,-2147483648),t<0&&(t=4294967295+t+1),this[e]=t>>>24,this[e+1]=t>>>16,this[e+2]=t>>>8,this[e+3]=255&t,e+4},h.prototype.writeFloatLE=function(t,e,r){return O(this,t,e,!0,r)},h.prototype.writeFloatBE=function(t,e,r){return O(this,t,e,!1,r)},h.prototype.writeDoubleLE=function(t,e,r){return U(this,t,e,!0,r)},h.prototype.writeDoubleBE=function(t,e,r){return U(this,t,e,!1,r)},h.prototype.copy=function(t,e,r,n){if(!h.isBuffer(t))throw new TypeError("argument should be a Buffer");if(r||(r=0),n||0===n||(n=this.length),e>=t.length&&(e=t.length),e||(e=0),0<n&&n<r&&(n=r),n===r)return 0;if(0===t.length||0===this.length)return 0;if(e<0)throw new RangeError("targetStart out of bounds");if(r<0||r>=this.length)throw new RangeError("Index out of range");if(n<0)throw new RangeError("sourceEnd out of bounds");n>this.length&&(n=this.length),t.length-e<n-r&&(n=t.length-e+r);var o=n-r;if(this===t&&"function"==typeof Uint8Array.prototype.copyWithin)this.copyWithin(e,r,n);else if(this===t&&r<e&&e<n)for(var i=o-1;0<=i;--i)t[i+e]=this[i+r];else Uint8Array.prototype.set.call(t,this.subarray(r,n),e);return o},h.prototype.fill=function(t,e,r,n){if("string"==typeof t){if("string"==typeof e?(n=e,e=0,r=this.length):"string"==typeof r&&(n=r,r=this.length),void 0!==n&&"string"!=typeof n)throw new TypeError("encoding must be a string");if("string"==typeof n&&!h.isEncoding(n))throw new TypeError("Unknown encoding: "+n);if(1===t.length){var o=t.charCodeAt(0);("utf8"===n&&o<128||"latin1"===n)&&(t=o)}}else"number"==typeof t&&(t&=255);if(e<0||this.length<e||this.length<r)throw new RangeError("Out of range index");if(r<=e)return this;var i;if(e>>>=0,r=void 0===r?this.length:r>>>0,t||(t=0),"number"==typeof t)for(i=e;i<r;++i)this[i]=t;else{var s=h.isBuffer(t)?t:h.from(t,n),u=s.length;if(0===u)throw new TypeError('The value "'+t+'" is invalid for argument "value"');for(i=0;i<r-e;++i)this[i+e]=s[i%u]}return this};var C=/[^+/0-9A-Za-z-_]/g;function P(t){return t<16?"0"+t.toString(16):t.toString(16)}function R(t,e){var r;e=e||1/0;for(var n=t.length,o=null,i=[],s=0;s<n;++s){if(55295<(r=t.charCodeAt(s))&&r<57344){if(!o){if(56319<r){-1<(e-=3)&&i.push(239,191,189);continue}if(s+1===n){-1<(e-=3)&&i.push(239,191,189);continue}o=r;continue}if(r<56320){-1<(e-=3)&&i.push(239,191,189),o=r;continue}r=65536+(o-55296<<10|r-56320)}else o&&-1<(e-=3)&&i.push(239,191,189);if(o=null,r<128){if((e-=1)<0)break;i.push(r)}else if(r<2048){if((e-=2)<0)break;i.push(r>>6|192,63&r|128)}else if(r<65536){if((e-=3)<0)break;i.push(r>>12|224,r>>6&63|128,63&r|128)}else{if(!(r<1114112))throw new Error("Invalid code point");if((e-=4)<0)break;i.push(r>>18|240,r>>12&63|128,r>>6&63|128,63&r|128)}}return i}function L(t){return n.toByteArray(function(t){if((t=(t=t.split("=")[0]).trim().replace(C,"")).length<2)return"";for(;t.length%4!=0;)t+="=";return t}(t))}function I(t,e,r,n){for(var o=0;o<n&&!(o+r>=e.length||o>=t.length);++o)e[o+r]=t[o];return o}function k(t,e){return t instanceof e||null!=t&&null!=t.constructor&&null!=t.constructor.name&&t.constructor.name===e.name}function M(t){return t!=t}},{27:27,29:29}],29:[function(t,e,r){r.read=function(t,e,r,n,o){var i,s,u=8*o-n-1,a=(1<<u)-1,f=a>>1,c=-7,h=r?o-1:0,p=r?-1:1,l=t[e+h];for(h+=p,i=l&(1<<-c)-1,l>>=-c,c+=u;0<c;i=256*i+t[e+h],h+=p,c-=8);for(s=i&(1<<-c)-1,i>>=-c,c+=n;0<c;s=256*s+t[e+h],h+=p,c-=8);if(0===i)i=1-f;else{if(i===a)return s?NaN:1/0*(l?-1:1);s+=Math.pow(2,n),i-=f}return(l?-1:1)*s*Math.pow(2,i-n)},r.write=function(t,e,r,n,o,i){var s,u,a,f=8*i-o-1,c=(1<<f)-1,h=c>>1,p=23===o?Math.pow(2,-24)-Math.pow(2,-77):0,l=n?0:i-1,d=n?1:-1,y=e<0||0===e&&1/e<0?1:0;for(e=Math.abs(e),isNaN(e)||e===1/0?(u=isNaN(e)?1:0,s=c):(s=Math.floor(Math.log(e)/Math.LN2),e*(a=Math.pow(2,-s))<1&&(s--,a*=2),2<=(e+=1<=s+h?p/a:p*Math.pow(2,1-h))*a&&(s++,a/=2),c<=s+h?(u=0,s=c):1<=s+h?(u=(e*a-1)*Math.pow(2,o),s+=h):(u=e*Math.pow(2,h-1)*Math.pow(2,o),s=0));8<=o;t[r+l]=255&u,l+=d,u/=256,o-=8);for(s=s<<o|u,f+=o;0<f;t[r+l]=255&s,l+=d,s/=256,f-=8);t[r+l-d]|=128*y}},{}],30:[function(t,e,r){"function"==typeof Object.create?e.exports=function(t,e){t.super_=e,t.prototype=Object.create(e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}})}:e.exports=function(t,e){t.super_=e;var r=function(){};r.prototype=e.prototype,t.prototype=new r,t.prototype.constructor=t}},{}],31:[function(t,e,r){function n(t){return!!t.constructor&&"function"==typeof t.constructor.isBuffer&&t.constructor.isBuffer(t)}e.exports=function(t){return null!=t&&(n(t)||"function"==typeof(e=t).readFloatLE&&"function"==typeof e.slice&&n(e.slice(0,0))||!!t._isBuffer);var e}},{}],32:[function(t,e,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0});var n=function(t){return atob(t)},o=function(t){return btoa(t)};function i(e,r){e=e||[],r=r||{};try{return new Blob(e,r)}catch(t){if("TypeError"!==t.name)throw t;for(var n=new("undefined"!=typeof BlobBuilder?BlobBuilder:"undefined"!=typeof MSBlobBuilder?MSBlobBuilder:"undefined"!=typeof MozBlobBuilder?MozBlobBuilder:WebKitBlobBuilder),o=0;o<e.length;o+=1)n.append(e[o]);return n.getBlob(r.type)}}function s(t){for(var e=t.length,r=new ArrayBuffer(e),n=new Uint8Array(r),o=0;o<e;o++)n[o]=t.charCodeAt(o);return r}function u(t,e){return i([s(t)],{type:e})}function a(t,r){var e=new FileReader,n="function"==typeof e.readAsBinaryString;e.onloadend=function(t){var e=t.target.result||"";if(n)return r(e);r(function(t){for(var e="",r=new Uint8Array(t),n=r.byteLength,o=0;o<n;o++)e+=String.fromCharCode(r[o]);return e}(e))},n?e.readAsBinaryString(t):e.readAsArrayBuffer(t)}function f(t,e){a(t,function(t){e(t)})}r.atob=n,r.btoa=o,r.base64StringToBlobOrBuffer=function(t,e){return u(n(t),e)},r.binaryStringToArrayBuffer=s,r.binaryStringToBlobOrBuffer=u,r.blob=i,r.blobOrBufferToBase64=function(t,e){f(t,function(t){e(o(t))})},r.blobOrBufferToBinaryString=f,r.readAsArrayBuffer=function(t,r){var e=new FileReader;e.onloadend=function(t){var e=t.target.result||new ArrayBuffer(0);r(e)},e.readAsArrayBuffer(t)},r.readAsBinaryString=a,r.typedBuffer=function(){}},{}],33:[function(t,e,r){var n,o,i=e.exports={};function s(){throw new Error("setTimeout has not been defined")}function u(){throw new Error("clearTimeout has not been defined")}function a(e){if(n===setTimeout)return setTimeout(e,0);if((n===s||!n)&&setTimeout)return n=setTimeout,setTimeout(e,0);try{return n(e,0)}catch(t){try{return n.call(null,e,0)}catch(t){return n.call(this,e,0)}}}!function(){try{n="function"==typeof setTimeout?setTimeout:s}catch(t){n=s}try{o="function"==typeof clearTimeout?clearTimeout:u}catch(t){o=u}}();var f,c=[],h=!1,p=-1;function l(){h&&f&&(h=!1,f.length?c=f.concat(c):p=-1,c.length&&d())}function d(){if(!h){var t=a(l);h=!0;for(var e=c.length;e;){for(f=c,c=[];++p<e;)f&&f[p].run();p=-1,e=c.length}f=null,h=!1,function(e){if(o===clearTimeout)return clearTimeout(e);if((o===u||!o)&&clearTimeout)return o=clearTimeout,clearTimeout(e);try{o(e)}catch(t){try{return o.call(null,e)}catch(t){return o.call(this,e)}}}(t)}}function y(t,e){this.fun=t,this.array=e}function g(){}i.nextTick=function(t){var e=new Array(arguments.length-1);if(1<arguments.length)for(var r=1;r<arguments.length;r++)e[r-1]=arguments[r];c.push(new y(t,e)),1!==c.length||h||a(d)},y.prototype.run=function(){this.fun.apply(null,this.array)},i.title="browser",i.browser=!0,i.env={},i.argv=[],i.version="",i.versions={},i.on=g,i.addListener=g,i.once=g,i.off=g,i.removeListener=g,i.removeAllListeners=g,i.emit=g,i.prependListener=g,i.prependOnceListener=g,i.listeners=function(t){return[]},i.binding=function(t){throw new Error("process.binding is not supported")},i.cwd=function(){return"/"},i.chdir=function(t){throw new Error("process.chdir is not supported")},i.umask=function(){return 0}},{}],34:[function(t,e,r){"use strict";var o=Object.prototype.hasOwnProperty;function s(t){return decodeURIComponent(t.replace(/\+/g," "))}r.stringify=function(t,e){e=e||"";var r=[];for(var n in"string"!=typeof e&&(e="?"),t)o.call(t,n)&&r.push(encodeURIComponent(n)+"="+encodeURIComponent(t[n]));return r.length?e+r.join("&"):""},r.parse=function(t){for(var e,r=/([^=?&]+)=?([^&]*)/g,n={};e=r.exec(t);){var o=s(e[1]),i=s(e[2]);o in n||(n[o]=i)}return n}},{}],35:[function(t,e,r){"use strict";e.exports=function(t,e){if(e=e.split(":")[0],!(t=+t))return!1;switch(e){case"http":case"ws":return 80!==t;case"https":case"wss":return 443!==t;case"ftp":return 21!==t;case"gopher":return 70!==t;case"file":return!1}return 0!==t}},{}],36:[function(t,e,r){var n,o;n=this,o=function(){return function(){return function(t){var e=[];if(t[0].match(/^[^/:]+:\/*$/)&&1<t.length){var r=t.shift();t[0]=r+t[0]}t[0].match(/^file:\/\/\//)?t[0]=t[0].replace(/^([^/:]+):\/*/,"$1:///"):t[0]=t[0].replace(/^([^/:]+):\/*/,"$1://");for(var n=0;n<t.length;n++){var o=t[n];if("string"!=typeof o)throw new TypeError("Url must be a string. Received "+o);""!==o&&(0<n&&(o=o.replace(/^[\/]+/,"")),o=n<t.length-1?o.replace(/[\/]+$/,""):o.replace(/[\/]+$/,"/"),e.push(o))}var i=e.join("/"),s=(i=i.replace(/\/(\?|&|#[^!])/g,"$1")).split("?");return i=s.shift()+(0<s.length?"?":"")+s.join("&")}("object"==typeof arguments[0]?arguments[0]:[].slice.call(arguments))}},void 0!==e&&e.exports?e.exports=o():n.urljoin=o()},{}],37:[function(t,e,r){(function(i){"use strict";var l=t(35),d=t(34),r=/^([a-z][a-z0-9.+-]*:)?(\/\/)?([\S\s]*)/i,s=/^[A-Za-z][A-Za-z0-9+-.]*:\/\//,y=[["#","hash"],["?","query"],function(t){return t.replace("\\","/")},["/","pathname"],["@","auth",1],[NaN,"host",void 0,1,1],[/:(\d+)$/,"port",void 0,1],[NaN,"hostname",void 0,1,1]],u={hash:1,query:1};function g(t){var e,r=i&&i.location||{},n={},o=typeof(t=t||r);if("blob:"===t.protocol)n=new m(unescape(t.pathname),{});else if("string"===o)for(e in n=new m(t,{}),u)delete n[e];else if("object"===o){for(e in t)e in u||(n[e]=t[e]);void 0===n.slashes&&(n.slashes=s.test(t.href))}return n}function v(t){var e=r.exec(t);return{protocol:e[1]?e[1].toLowerCase():"",slashes:!!e[2],rest:e[3]}}function m(t,e,r){if(!(this instanceof m))return new m(t,e,r);var n,o,i,s,u,a,f=y.slice(),c=typeof e,h=this,p=0;for("object"!==c&&"string"!==c&&(r=e,e=null),r&&"function"!=typeof r&&(r=d.parse),e=g(e),n=!(o=v(t||"")).protocol&&!o.slashes,h.slashes=o.slashes||n&&e.slashes,h.protocol=o.protocol||e.protocol||"",t=o.rest,o.slashes||(f[3]=[/(.*)/,"pathname"]);p<f.length;p++)"function"!=typeof(s=f[p])?(i=s[0],a=s[1],i!=i?h[a]=t:"string"==typeof i?~(u=t.indexOf(i))&&(t="number"==typeof s[2]?(h[a]=t.slice(0,u),t.slice(u+s[2])):(h[a]=t.slice(u),t.slice(0,u))):(u=i.exec(t))&&(h[a]=u[1],t=t.slice(0,u.index)),h[a]=h[a]||n&&s[3]&&e[a]||"",s[4]&&(h[a]=h[a].toLowerCase())):t=s(t);r&&(h.query=r(h.query)),n&&e.slashes&&"/"!==h.pathname.charAt(0)&&(""!==h.pathname||""!==e.pathname)&&(h.pathname=function(t,e){for(var r=(e||"/").split("/").slice(0,-1).concat(t.split("/")),n=r.length,o=r[n-1],i=!1,s=0;n--;)"."===r[n]?r.splice(n,1):".."===r[n]?(r.splice(n,1),s++):s&&(0===n&&(i=!0),r.splice(n,1),s--);return i&&r.unshift(""),"."!==o&&".."!==o||r.push(""),r.join("/")}(h.pathname,e.pathname)),l(h.port,h.protocol)||(h.host=h.hostname,h.port=""),h.username=h.password="",h.auth&&(s=h.auth.split(":"),h.username=s[0]||"",h.password=s[1]||""),h.origin=h.protocol&&h.host&&"file:"!==h.protocol?h.protocol+"//"+h.host:"null",h.href=h.toString()}m.prototype={set:function(t,e,r){var n=this;switch(t){case"query":"string"==typeof e&&e.length&&(e=(r||d.parse)(e)),n[t]=e;break;case"port":n[t]=e,l(e,n.protocol)?e&&(n.host=n.hostname+":"+e):(n.host=n.hostname,n[t]="");break;case"hostname":n[t]=e,n.port&&(e+=":"+n.port),n.host=e;break;case"host":n[t]=e,/:\d+$/.test(e)?(e=e.split(":"),n.port=e.pop(),n.hostname=e.join(":")):(n.hostname=e,n.port="");break;case"protocol":n.protocol=e.toLowerCase(),n.slashes=!r;break;case"pathname":case"hash":if(e){var o="pathname"===t?"/":"#";n[t]=e.charAt(0)!==o?o+e:e}else n[t]=e;break;default:n[t]=e}for(var i=0;i<y.length;i++){var s=y[i];s[4]&&(n[s[1]]=n[s[1]].toLowerCase())}return n.origin=n.protocol&&n.host&&"file:"!==n.protocol?n.protocol+"//"+n.host:"null",n.href=n.toString(),n},toString:function(t){t&&"function"==typeof t||(t=d.stringify);var e,r=this,n=r.protocol;n&&":"!==n.charAt(n.length-1)&&(n+=":");var o=n+(r.slashes?"//":"");return r.username&&(o+=r.username,r.password&&(o+=":"+r.password),o+="@"),o+=r.host+r.pathname,(e="object"==typeof r.query?t(r.query):r.query)&&(o+="?"!==e.charAt(0)?"?"+e:e),r.hash&&(o+=r.hash),o}},m.extractProtocol=v,m.location=g,m.qs=d,e.exports=m}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{34:34,35:35}]},{},[1])(1)});
